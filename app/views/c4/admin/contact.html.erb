<%= content_for :title, "Editar" %>
<% content_for :header_content do %>
<h1><b>Información de contacto</b></h1>
<% end %>

<%# Form fields %>
<%= form_for @prefs, url: main_app.contact_path do |f|%>

<% if @prefs.errors.any? %>
    <div class="error-explanation-header">
      <%= pluralize(@prefs.errors.count, "error impidió", "errores impidieron") %> que se guardaran los cambios.
    </div>
<% end %>

<h3>Datos principales</h3>


<%# Redes sociales %>
<div class="row">
  <div class="six columns">
      <%= full_field(f,:facebook,'Link de Facebook','https://www.facebook.com/...') %>
  </div>
  <div class="six columns">
      <%= full_field(f,:twitter,'Link de Twitter','https://twitter.com/...') %>
  </div>
</div>


<hr class="c4-mini">

<%# Teléfonos %>
<div class="row">
  <div class="six columns">
      <%= full_field(f,:telephone,'Teléfono','') %>
  </div>
  <div class="six columns">
      <%= full_field(f,:telephone2,'Teléfono secundario (opcional)','') %>
  </div>
</div>

<hr class="c4-mini">

<%# Email %>
<div class="row">
    <%= full_field(f,:email,'Correo electrónico','ejemplo@ejemplo.com') %>
</div>
 <hr>
<h3>Otros datos</h3>

<div class="c4-button-success u-full-width add-field">Agregar</div>

<div class="other-fields">

<% @prefs.values.each_with_index do |val,i| %>

<hr class='c4-mini' style='margin-bottom: 20px;'>
<div class='row'>
    <div class='five columns'>
      <input type='text' class='u-full-width' name='extra[<%= i %>][key]' placeholder='Nombre' value='<%= val["key"] %>'>
    </div>
    <div class='five columns'>
      <input type='text' class='u-full-width' name='extra[<%= i %>][value]' placeholder='Valor' value='<%= val["value"] %>' >
    </div>
    <div class='two columns'>
      <div class='c4-button-warning u-full-width remove-field'><input type='hidden' value='0' name='extra[<%= i %>][_destroy]'>Borrar</div>
    </div>
  </div>
<% end %>

</div>
<hr>

<div class="row">
    <%= f.submit "Guardar", class: 'c4-button-primary u-full-width' %>
</div>

<% end %>

